<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NotesWallah - Educational Notes Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .note-card {
            border-left: 4px solid #dc2626;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="text-2xl font-bold text-red-600">NotesWallah</div>
                    <div class="ml-2 text-sm text-gray-500">www.noteswallah.co.in</div>
                </div>
                <div class="hidden md:flex space-x-8">
                    <button onclick="showSection('home')" class="nav-btn text-gray-700 hover:text-red-600 px-3 py-2 rounded-md font-medium">Home</button>
                    <button onclick="showSection('browse')" class="nav-btn text-gray-700 hover:text-red-600 px-3 py-2 rounded-md font-medium">Browse</button>
                    <button onclick="showAddNotesModal()" class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 font-medium">Add Notes</button>
                    <button onclick="showSection('feedback')" class="nav-btn text-gray-700 hover:text-red-600 px-3 py-2 rounded-md font-medium">Feedback</button>
                    <div id="authButtons" class="flex space-x-2">
                        <button onclick="showLoginModal()" class="text-gray-700 hover:text-red-600 px-3 py-2 rounded-md font-medium">Login</button>
                        <button onclick="showRegisterModal()" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 font-medium">Register</button>
                    </div>
                    <div id="userMenu" class="hidden flex items-center space-x-4">
                        <span class="text-gray-700">Welcome, <span id="navUserName">User</span>!</span>
                        <button onclick="showSection('profile')" class="nav-btn text-gray-700 hover:text-red-600 px-3 py-2 rounded-md font-medium">Profile</button>
                        <button onclick="logout()" class="text-red-600 hover:text-red-700 px-3 py-2 rounded-md font-medium">Logout</button>
                    </div>
                </div>
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-gray-700 hover:text-red-600">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobileMenu" class="hidden md:hidden bg-white border-t">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <button onclick="showSection('home')" class="block px-3 py-2 text-gray-700 hover:text-red-600 w-full text-left">Home</button>
                <button onclick="showSection('browse')" class="block px-3 py-2 text-gray-700 hover:text-red-600 w-full text-left">Browse</button>
                <button onclick="showAddNotesModal()" class="block px-3 py-2 bg-red-600 text-white rounded-md w-full text-left">Add Notes</button>
                <button onclick="showSection('feedback')" class="block px-3 py-2 text-gray-700 hover:text-red-600 w-full text-left">Feedback</button>
                <div id="mobileAuthButtons" class="space-y-1">
                    <button onclick="showLoginModal()" class="block px-3 py-2 text-gray-700 hover:text-red-600 w-full text-left">Login</button>
                    <button onclick="showRegisterModal()" class="block px-3 py-2 bg-green-600 text-white rounded-md w-full text-left">Register</button>
                </div>
                <div id="mobileUserMenu" class="hidden space-y-1">
                    <button onclick="showSection('profile')" class="block px-3 py-2 text-gray-700 hover:text-red-600 w-full text-left">Profile</button>
                    <button onclick="logout()" class="block px-3 py-2 text-red-600 hover:text-red-700 w-full text-left">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Home Section -->
    <div id="homeSection" class="section">
        <!-- Hero Section -->
        <div class="gradient-bg text-white py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h1 class="text-5xl font-bold mb-6 fade-in">Welcome to NotesWallah</h1>
                <p class="text-xl mb-8 max-w-3xl mx-auto fade-in">Connect with IITians, professors, and lecturers. Access quality educational notes for classes 1-10, graduation, CS, AI-DS, and competitive exams.</p>
                <div class="space-x-4 fade-in">
                    <button onclick="showSection('browse')" class="bg-white text-red-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition">Browse Notes</button>
                    <button onclick="showAddNotesModal()" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-red-600 transition">Share Your Notes</button>
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <div class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Why Choose NotesWallah?</h2>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="text-center p-6 card-hover bg-gray-50 rounded-lg">
                        <div class="text-4xl mb-4">üéì</div>
                        <h3 class="text-xl font-semibold mb-3">Expert Contributors</h3>
                        <p class="text-gray-600">Notes from IITians, professors, and experienced educators</p>
                    </div>
                    <div class="text-center p-6 card-hover bg-gray-50 rounded-lg">
                        <div class="text-4xl mb-4">üìñ</div>
                        <h3 class="text-xl font-semibold mb-3">Comprehensive Coverage</h3>
                        <p class="text-gray-600">From school subjects to advanced CS and AI-DS topics</p>
                    </div>
                    <div class="text-center p-6 card-hover bg-gray-50 rounded-lg">
                        <div class="text-4xl mb-4">üöÄ</div>
                        <h3 class="text-xl font-semibold mb-3">Exam Ready</h3>
                        <p class="text-gray-600">Perfect for school, college, and competitive exam preparation</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Notes Preview -->
        <div class="py-16 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Recently Added Notes</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="recentNotes">
                    <!-- Recent notes will be populated here -->
                </div>
                <div class="text-center mt-8">
                    <button onclick="showSection('browse')" class="bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition">View All Notes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Browse Section -->
    <div id="browseSection" class="section hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <h1 class="text-3xl font-bold mb-8 text-gray-800">Browse Notes</h1>
            
            <!-- Search and Filters -->
            <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                <div class="grid md:grid-cols-4 gap-4">
                    <input type="text" id="searchInput" placeholder="Search notes..." class="border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500 focus:border-transparent">
                    <select id="categoryFilter" class="border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500">
                        <option value="">All Categories</option>
                        <option value="school">School (1-10)</option>
                        <option value="cs">Computer Science</option>
                        <option value="ai-ds">AI & Data Science</option>
                        <option value="competitive">Competitive Exams</option>
                        <option value="engineering">Engineering</option>
                    </select>
                    <select id="levelFilter" class="border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500">
                        <option value="">All Levels</option>
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                    <button onclick="filterNotes()" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition">Search</button>
                </div>
            </div>

            <!-- Notes Grid -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="notesGrid">
                <!-- Notes will be populated here -->
            </div>
        </div>
    </div>

    <!-- Feedback Section -->
    <div id="feedbackSection" class="section hidden">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <h1 class="text-3xl font-bold mb-8 text-gray-800 text-center">Feedback & Reviews</h1>
            
            <!-- Feedback Form -->
            <div class="bg-white p-8 rounded-lg shadow-md mb-8">
                <h2 class="text-xl font-semibold mb-6">Share Your Experience</h2>
                <form onsubmit="submitFeedback(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Your Name</label>
                        <input type="text" id="feedbackName" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Rating</label>
                        <div class="flex space-x-2" id="ratingStars">
                            <span onclick="setRating(1)" class="star cursor-pointer text-2xl text-gray-300 hover:text-yellow-400">‚≠ê</span>
                            <span onclick="setRating(2)" class="star cursor-pointer text-2xl text-gray-300 hover:text-yellow-400">‚≠ê</span>
                            <span onclick="setRating(3)" class="star cursor-pointer text-2xl text-gray-300 hover:text-yellow-400">‚≠ê</span>
                            <span onclick="setRating(4)" class="star cursor-pointer text-2xl text-gray-300 hover:text-yellow-400">‚≠ê</span>
                            <span onclick="setRating(5)" class="star cursor-pointer text-2xl text-gray-300 hover:text-yellow-400">‚≠ê</span>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Your Feedback</label>
                        <textarea id="feedbackText" rows="4" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="Tell us about your experience..."></textarea>
                    </div>
                    <button type="submit" class="bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition">Submit Feedback</button>
                </form>
            </div>

            <!-- Existing Feedback -->
            <div class="space-y-6" id="feedbackList">
                <!-- Feedback items will be populated here -->
            </div>
        </div>
    </div>

    <!-- Profile Section -->
    <div id="profileSection" class="section hidden">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <h1 class="text-3xl font-bold mb-8 text-gray-800">Your Profile</h1>
            
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Profile Info -->
                <div class="md:col-span-1">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="text-center">
                            <div class="w-24 h-24 bg-red-600 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-2xl font-bold">
                                <span id="profileInitials">JD</span>
                            </div>
                            <h2 class="text-xl font-semibold" id="profileName">John Doe</h2>
                            <p class="text-gray-600" id="profileRole">Student</p>
                            <button onclick="editProfile()" class="mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition">Edit Profile</button>
                        </div>
                    </div>
                </div>

                <!-- Profile Stats and Activity -->
                <div class="md:col-span-2">
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h3 class="text-lg font-semibold mb-4">Your Statistics</h3>
                        <div class="grid grid-cols-3 gap-4 text-center">
                            <div>
                                <div class="text-2xl font-bold text-red-600" id="notesUploaded">5</div>
                                <div class="text-sm text-gray-600">Notes Uploaded</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-green-600" id="notesDownloaded">23</div>
                                <div class="text-sm text-gray-600">Notes Downloaded</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-purple-600" id="profileViews">156</div>
                                <div class="text-sm text-gray-600">Profile Views</div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-semibold mb-4">Your Uploaded Notes</h3>
                        <div class="space-y-3" id="userNotes">
                            <!-- User's notes will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Login to NotesWallah</h2>
                <button onclick="closeLoginModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            
            <form onsubmit="handleLogin(event)" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                    <input type="email" id="loginEmail" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="Enter your email">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                    <input type="password" id="loginPassword" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="Enter your password">
                </div>
                
                <div class="flex items-center justify-between">
                    <label class="flex items-center">
                        <input type="checkbox" class="rounded border-gray-300 text-red-600 focus:ring-red-500">
                        <span class="ml-2 text-sm text-gray-600">Remember me</span>
                    </label>
                    <button type="button" class="text-sm text-red-600 hover:text-red-500">Forgot password?</button>
                </div>
                
                <button type="submit" class="w-full bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition font-medium">Login</button>
                
                <div class="text-center">
                    <span class="text-sm text-gray-600">Don't have an account? </span>
                    <button type="button" onclick="switchToRegister()" class="text-sm text-red-600 hover:text-red-500 font-medium">Register here</button>
                </div>
            </form>
            
            <div class="mt-6 pt-6 border-t border-gray-200">
                <p class="text-sm text-gray-600 mb-3 text-center">Demo Accounts:</p>
                <div class="space-y-2 text-xs">
                    <div class="bg-gray-50 p-2 rounded">
                        <strong>Student:</strong> student@demo.com / password123
                    </div>
                    <div class="bg-gray-50 p-2 rounded">
                        <strong>Professor:</strong> prof@demo.com / password123
                    </div>
                    <div class="bg-gray-50 p-2 rounded">
                        <strong>IITian:</strong> iitian@demo.com / password123
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Join NotesWallah</h2>
                <button onclick="closeRegisterModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            
            <form onsubmit="handleRegister(event)" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                    <input type="text" id="registerName" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="Enter your full name">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                    <input type="email" id="registerEmail" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="Enter your email">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                    <input type="password" id="registerPassword" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="Create a password">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
                    <input type="password" id="confirmPassword" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="Confirm your password">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Your Role</label>
                    <select id="registerRole" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500">
                        <option value="">Select your role</option>
                        <option value="student">Student</option>
                        <option value="iitian">IITian</option>
                        <option value="professor">Professor</option>
                        <option value="lecturer">Lecturer</option>
                        <option value="professional">Professional</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Institution/Organization</label>
                    <input type="text" id="registerInstitution" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="Your school/college/company">
                </div>
                
                <div class="flex items-start">
                    <input type="checkbox" id="agreeTerms" required class="mt-1 rounded border-gray-300 text-red-600 focus:ring-red-500">
                    <label for="agreeTerms" class="ml-2 text-sm text-gray-600">
                        I agree to the <a href="#" class="text-red-600 hover:text-red-500">Terms of Service</a> and <a href="#" class="text-red-600 hover:text-red-500">Privacy Policy</a>
                    </label>
                </div>
                
                <button type="submit" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition font-medium">Create Account</button>
                
                <div class="text-center">
                    <span class="text-sm text-gray-600">Already have an account? </span>
                    <button type="button" onclick="switchToLogin()" class="text-sm text-red-600 hover:text-red-500 font-medium">Login here</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Notes Modal -->
    <div id="addNotesModal" class="modal">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">Add New Notes</h2>
                <button onclick="closeAddNotesModal()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            
            <form onsubmit="submitNotes(event)" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Title *</label>
                    <input type="text" id="notesTitle" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="Enter notes title">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Description *</label>
                    <textarea id="notesDescription" rows="3" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="Describe your notes"></textarea>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Category *</label>
                        <select id="notesCategory" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500">
                            <option value="">Select Category</option>
                            <option value="school">School (1-10)</option>
                            <option value="cs">Computer Science</option>
                            <option value="ai-ds">AI & Data Science</option>
                            <option value="competitive">Competitive Exams</option>
                            <option value="engineering">Engineering</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Level *</label>
                        <select id="notesLevel" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500">
                            <option value="">Select Level</option>
                            <option value="beginner">Beginner</option>
                            <option value="intermediate">Intermediate</option>
                            <option value="advanced">Advanced</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Subject/Topic *</label>
                    <input type="text" id="notesSubject" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500" placeholder="e.g., Mathematics, Data Structures, Physics">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Your Role *</label>
                    <select id="authorRole" required class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500">
                        <option value="">Select Your Role</option>
                        <option value="iitian">IITian</option>
                        <option value="professor">Professor</option>
                        <option value="lecturer">Lecturer</option>
                        <option value="student">Student</option>
                        <option value="professional">Professional</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">File Upload (Demo)</label>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                        <div class="text-gray-500 mb-2">üìÑ</div>
                        <p class="text-sm text-gray-600">Click to upload or drag and drop</p>
                        <p class="text-xs text-gray-500 mt-1">PDF, DOC, DOCX up to 10MB</p>
                        <input type="file" class="hidden" accept=".pdf,.doc,.docx">
                        <button type="button" onclick="this.previousElementSibling.click()" class="mt-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition">Choose File</button>
                    </div>
                </div>
                
                <div class="flex space-x-4">
                    <button type="submit" class="flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition font-medium">Upload Notes</button>
                    <button type="button" onclick="closeAddNotesModal()" class="px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Message -->
    <div id="successMessage" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg hidden z-50">
        <div class="flex items-center">
            <span class="mr-2">‚úÖ</span>
            <span id="successText">Success!</span>
        </div>
    </div>

    <script>
        // Global variables
        let currentSection = 'home';
        let currentRating = 0;
        let isLoggedIn = false;
        let currentUser = null;
        
        // Demo users database
        const demoUsers = {
            'student@demo.com': {
                password: 'password123',
                name: 'Arjun Sharma',
                role: 'student',
                institution: 'Delhi Public School',
                notesUploaded: 2,
                notesDownloaded: 15,
                profileViews: 45
            },
            'prof@demo.com': {
                password: 'password123',
                name: 'Dr. Priya Singh',
                role: 'professor',
                institution: 'IIT Delhi',
                notesUploaded: 12,
                notesDownloaded: 8,
                profileViews: 234
            },
            'iitian@demo.com': {
                password: 'password123',
                name: 'Rahul Kumar',
                role: 'iitian',
                institution: 'IIT Bombay',
                notesUploaded: 8,
                notesDownloaded: 25,
                profileViews: 189
            }
        };
        
        let notes = [
            {
                id: 1,
                title: "Data Structures and Algorithms",
                description: "Comprehensive notes covering arrays, linked lists, trees, and sorting algorithms",
                category: "cs",
                level: "intermediate",
                subject: "Computer Science",
                author: "Prof. Sharma (IIT Delhi)",
                role: "professor",
                date: "2024-01-15",
                downloads: 245
            },
            {
                id: 2,
                title: "Class 10 Mathematics - Quadratic Equations",
                description: "Complete chapter notes with solved examples and practice problems",
                category: "school",
                level: "beginner",
                subject: "Mathematics",
                author: "Dr. Priya Singh",
                role: "lecturer",
                date: "2024-01-10",
                downloads: 189
            },
            {
                id: 3,
                title: "Machine Learning Fundamentals",
                description: "Introduction to ML concepts, supervised and unsupervised learning",
                category: "ai-ds",
                level: "advanced",
                subject: "Artificial Intelligence",
                author: "Rahul Kumar (IIT Bombay)",
                role: "iitian",
                date: "2024-01-08",
                downloads: 312
            },
            {
                id: 4,
                title: "Object-Oriented Programming in Java",
                description: "Complete guide to OOP concepts, inheritance, polymorphism, and encapsulation",
                category: "cs",
                level: "intermediate",
                subject: "Programming",
                author: "Prof. Ankit Verma (IIT Kanpur)",
                role: "professor",
                date: "2024-01-12",
                downloads: 198
            },
            {
                id: 5,
                title: "Class 9 Physics - Motion and Force",
                description: "Detailed notes on Newton's laws, motion equations, and force calculations",
                category: "school",
                level: "beginner",
                subject: "Physics",
                author: "Dr. Meera Joshi",
                role: "lecturer",
                date: "2024-01-11",
                downloads: 156
            },
            {
                id: 6,
                title: "Deep Learning with Neural Networks",
                description: "Advanced concepts in deep learning, CNNs, RNNs, and transformer models",
                category: "ai-ds",
                level: "advanced",
                subject: "Deep Learning",
                author: "Sanjay Gupta (IIT Madras)",
                role: "iitian",
                date: "2024-01-09",
                downloads: 287
            },
            {
                id: 7,
                title: "JEE Main Mathematics - Calculus",
                description: "Complete calculus notes with solved JEE problems and practice questions",
                category: "competitive",
                level: "advanced",
                subject: "Mathematics",
                author: "Prof. Rajesh Kumar",
                role: "professor",
                date: "2024-01-07",
                downloads: 423
            },
            {
                id: 8,
                title: "Database Management Systems",
                description: "SQL, normalization, indexing, and database design principles",
                category: "cs",
                level: "intermediate",
                subject: "Database",
                author: "Dr. Kavita Sharma (IIT Roorkee)",
                role: "professor",
                date: "2024-01-06",
                downloads: 234
            },
            {
                id: 9,
                title: "Class 8 Chemistry - Acids and Bases",
                description: "Properties of acids and bases, pH scale, and chemical reactions",
                category: "school",
                level: "beginner",
                subject: "Chemistry",
                author: "Mrs. Sunita Agarwal",
                role: "lecturer",
                date: "2024-01-05",
                downloads: 142
            },
            {
                id: 10,
                title: "Natural Language Processing",
                description: "Text processing, sentiment analysis, and language models",
                category: "ai-ds",
                level: "advanced",
                subject: "NLP",
                author: "Priya Mehta (IIT Guwahati)",
                role: "iitian",
                date: "2024-01-04",
                downloads: 198
            },
            {
                id: 11,
                title: "NEET Biology - Human Physiology",
                description: "Detailed notes on circulatory, respiratory, and nervous systems",
                category: "competitive",
                level: "intermediate",
                subject: "Biology",
                author: "Dr. Amit Saxena",
                role: "professor",
                date: "2024-01-03",
                downloads: 356
            },
            {
                id: 12,
                title: "Computer Networks",
                description: "OSI model, TCP/IP, routing protocols, and network security",
                category: "cs",
                level: "intermediate",
                subject: "Networking",
                author: "Prof. Vikram Singh (IIT Kharagpur)",
                role: "professor",
                date: "2024-01-02",
                downloads: 267
            },
            {
                id: 13,
                title: "Class 7 English - Grammar Fundamentals",
                description: "Parts of speech, tenses, and sentence construction with examples",
                category: "school",
                level: "beginner",
                subject: "English",
                author: "Ms. Ritu Sharma",
                role: "lecturer",
                date: "2024-01-01",
                downloads: 123
            },
            {
                id: 14,
                title: "Computer Vision Basics",
                description: "Image processing, feature detection, and object recognition",
                category: "ai-ds",
                level: "advanced",
                subject: "Computer Vision",
                author: "Arjun Patel (IIT Bombay)",
                role: "iitian",
                date: "2023-12-30",
                downloads: 189
            },
            {
                id: 15,
                title: "CAT Quantitative Aptitude",
                description: "Number systems, algebra, geometry for CAT preparation",
                category: "competitive",
                level: "advanced",
                subject: "Mathematics",
                author: "Prof. Deepak Agarwal",
                role: "professor",
                date: "2023-12-29",
                downloads: 445
            },
            {
                id: 16,
                title: "Operating Systems Concepts",
                description: "Process management, memory allocation, and file systems",
                category: "cs",
                level: "intermediate",
                subject: "Operating Systems",
                author: "Dr. Neha Gupta (IIT Delhi)",
                role: "professor",
                date: "2023-12-28",
                downloads: 298
            },
            {
                id: 17,
                title: "Class 6 Social Science - Ancient India",
                description: "Indus Valley Civilization, Vedic period, and Mauryan empire",
                category: "school",
                level: "beginner",
                subject: "History",
                author: "Mr. Rajesh Tiwari",
                role: "lecturer",
                date: "2023-12-27",
                downloads: 167
            },
            {
                id: 18,
                title: "Data Science with Python",
                description: "Pandas, NumPy, Matplotlib, and statistical analysis",
                category: "ai-ds",
                level: "intermediate",
                subject: "Data Science",
                author: "Sneha Reddy (IIT Hyderabad)",
                role: "iitian",
                date: "2023-12-26",
                downloads: 334
            },
            {
                id: 19,
                title: "GATE Computer Science - Algorithms",
                description: "Time complexity, sorting, searching, and graph algorithms",
                category: "competitive",
                level: "advanced",
                subject: "Computer Science",
                author: "Prof. Manoj Kumar",
                role: "professor",
                date: "2023-12-25",
                downloads: 567
            },
            {
                id: 20,
                title: "Software Engineering Principles",
                description: "SDLC, design patterns, testing, and project management",
                category: "cs",
                level: "intermediate",
                subject: "Software Engineering",
                author: "Dr. Pooja Sharma (IIT Ropar)",
                role: "professor",
                date: "2023-12-24",
                downloads: 223
            },
            {
                id: 21,
                title: "Class 5 Mathematics - Fractions",
                description: "Understanding fractions, operations, and real-world applications",
                category: "school",
                level: "beginner",
                subject: "Mathematics",
                author: "Mrs. Geeta Kumari",
                role: "lecturer",
                date: "2023-12-23",
                downloads: 134
            },
            {
                id: 22,
                title: "Reinforcement Learning",
                description: "Q-learning, policy gradients, and deep reinforcement learning",
                category: "ai-ds",
                level: "advanced",
                subject: "Machine Learning",
                author: "Karthik Nair (IIT Madras)",
                role: "iitian",
                date: "2023-12-22",
                downloads: 245
            },
            {
                id: 23,
                title: "UPSC Geography - Physical Geography",
                description: "Landforms, climate, and natural resources of India",
                category: "competitive",
                level: "intermediate",
                subject: "Geography",
                author: "Dr. Sunita Verma",
                role: "professor",
                date: "2023-12-21",
                downloads: 389
            },
            {
                id: 24,
                title: "Web Development with React",
                description: "Components, state management, hooks, and modern React patterns",
                category: "cs",
                level: "intermediate",
                subject: "Web Development",
                author: "Rohit Agarwal (IIT Kanpur)",
                role: "iitian",
                date: "2023-12-20",
                downloads: 456
            },
            {
                id: 25,
                title: "Class 4 Science - Plants and Animals",
                description: "Life cycles, habitats, and characteristics of living organisms",
                category: "school",
                level: "beginner",
                subject: "Science",
                author: "Ms. Priya Jain",
                role: "lecturer",
                date: "2023-12-19",
                downloads: 98
            },
            {
                id: 26,
                title: "Blockchain Technology",
                description: "Cryptocurrency, smart contracts, and distributed systems",
                category: "cs",
                level: "advanced",
                subject: "Blockchain",
                author: "Prof. Ashish Gupta (IIT Bombay)",
                role: "professor",
                date: "2023-12-18",
                downloads: 278
            },
            {
                id: 27,
                title: "SSC Mathematics - Algebra",
                description: "Linear equations, quadratic equations, and algebraic identities",
                category: "competitive",
                level: "intermediate",
                subject: "Mathematics",
                author: "Mr. Vinod Sharma",
                role: "lecturer",
                date: "2023-12-17",
                downloads: 234
            },
            {
                id: 28,
                title: "Artificial Intelligence Ethics",
                description: "Bias in AI, fairness, transparency, and responsible AI development",
                category: "ai-ds",
                level: "intermediate",
                subject: "AI Ethics",
                author: "Dr. Ravi Kumar (IIT Delhi)",
                role: "professor",
                date: "2023-12-16",
                downloads: 167
            },
            {
                id: 29,
                title: "Class 3 Hindi - Vyakaran",
                description: "Basic grammar, sentence formation, and vocabulary building",
                category: "school",
                level: "beginner",
                subject: "Hindi",
                author: "Mrs. Kavita Singh",
                role: "lecturer",
                date: "2023-12-15",
                downloads: 89
            },
            {
                id: 30,
                title: "Cybersecurity Fundamentals",
                description: "Network security, cryptography, and ethical hacking basics",
                category: "cs",
                level: "intermediate",
                subject: "Security",
                author: "Amit Patel (IIT Guwahati)",
                role: "iitian",
                date: "2023-12-14",
                downloads: 345
            },
            {
                id: 31,
                title: "Bank PO Reasoning",
                description: "Logical reasoning, puzzles, and analytical ability for banking exams",
                category: "competitive",
                level: "intermediate",
                subject: "Reasoning",
                author: "Prof. Sanjay Mishra",
                role: "professor",
                date: "2023-12-13",
                downloads: 456
            },
            {
                id: 32,
                title: "Big Data Analytics",
                description: "Hadoop, Spark, and large-scale data processing techniques",
                category: "ai-ds",
                level: "advanced",
                subject: "Big Data",
                author: "Neha Agarwal (IIT Kharagpur)",
                role: "iitian",
                date: "2023-12-12",
                downloads: 289
            },
            {
                id: 33,
                title: "Class 2 Environmental Studies",
                description: "Our surroundings, family, and community helpers",
                category: "school",
                level: "beginner",
                subject: "EVS",
                author: "Ms. Anjali Sharma",
                role: "lecturer",
                date: "2023-12-11",
                downloads: 76
            },
            {
                id: 34,
                title: "Mobile App Development",
                description: "Android development with Kotlin and iOS with Swift",
                category: "cs",
                level: "intermediate",
                subject: "Mobile Development",
                author: "Dr. Rajesh Patel (IIT Roorkee)",
                role: "professor",
                date: "2023-12-10",
                downloads: 234
            },
            {
                id: 35,
                title: "CLAT Legal Reasoning",
                description: "Constitutional law, legal principles, and case studies",
                category: "competitive",
                level: "advanced",
                subject: "Law",
                author: "Advocate Priya Sharma",
                role: "professional",
                date: "2023-12-09",
                downloads: 345
            },
            {
                id: 36,
                title: "Time Series Analysis",
                description: "Forecasting, ARIMA models, and seasonal decomposition",
                category: "ai-ds",
                level: "advanced",
                subject: "Statistics",
                author: "Prof. Deepak Singh (IIT Madras)",
                role: "professor",
                date: "2023-12-08",
                downloads: 198
            },
            {
                id: 37,
                title: "Class 1 Mathematics - Numbers",
                description: "Counting, number recognition, and basic addition/subtraction",
                category: "school",
                level: "beginner",
                subject: "Mathematics",
                author: "Mrs. Rekha Gupta",
                role: "lecturer",
                date: "2023-12-07",
                downloads: 67
            },
            {
                id: 38,
                title: "Cloud Computing with AWS",
                description: "EC2, S3, Lambda, and cloud architecture patterns",
                category: "cs",
                level: "intermediate",
                subject: "Cloud Computing",
                author: "Vikash Kumar (IIT Bombay)",
                role: "iitian",
                date: "2023-12-06",
                downloads: 567
            },
            {
                id: 39,
                title: "Railway Exam General Knowledge",
                description: "Current affairs, Indian history, and general science",
                category: "competitive",
                level: "intermediate",
                subject: "General Knowledge",
                author: "Mr. Anil Tiwari",
                role: "lecturer",
                date: "2023-12-05",
                downloads: 234
            },
            {
                id: 40,
                title: "Quantum Computing Basics",
                description: "Qubits, quantum gates, and quantum algorithms",
                category: "cs",
                level: "advanced",
                subject: "Quantum Computing",
                author: "Dr. Arjun Mehta (IIT Delhi)",
                role: "professor",
                date: "2023-12-04",
                downloads: 156
            },
            {
                id: 41,
                title: "Digital Marketing Fundamentals",
                description: "SEO, social media marketing, and content strategy",
                category: "engineering",
                level: "intermediate",
                subject: "Marketing",
                author: "Priya Agarwal",
                role: "professional",
                date: "2023-12-03",
                downloads: 345
            },
            {
                id: 42,
                title: "Statistics for Data Science",
                description: "Descriptive statistics, hypothesis testing, and probability",
                category: "ai-ds",
                level: "intermediate",
                subject: "Statistics",
                author: "Prof. Meera Joshi (IIT Kanpur)",
                role: "professor",
                date: "2023-12-02",
                downloads: 278
            },
            {
                id: 43,
                title: "Mechanical Engineering Thermodynamics",
                description: "Laws of thermodynamics, heat engines, and entropy",
                category: "engineering",
                level: "intermediate",
                subject: "Thermodynamics",
                author: "Dr. Suresh Kumar (IIT Roorkee)",
                role: "professor",
                date: "2023-12-01",
                downloads: 189
            },
            {
                id: 44,
                title: "Electrical Circuits Analysis",
                description: "Ohm's law, Kirchhoff's laws, and AC/DC circuit analysis",
                category: "engineering",
                level: "intermediate",
                subject: "Electrical Engineering",
                author: "Prof. Rajesh Verma (IIT Kharagpur)",
                role: "professor",
                date: "2023-11-30",
                downloads: 234
            },
            {
                id: 45,
                title: "Organic Chemistry Reactions",
                description: "Reaction mechanisms, stereochemistry, and synthesis",
                category: "engineering",
                level: "advanced",
                subject: "Chemistry",
                author: "Dr. Sunita Sharma (IIT Bombay)",
                role: "professor",
                date: "2023-11-29",
                downloads: 267
            },
            {
                id: 46,
                title: "Fluid Mechanics",
                description: "Fluid statics, dynamics, and flow through pipes",
                category: "engineering",
                level: "intermediate",
                subject: "Mechanical Engineering",
                author: "Prof. Amit Singh (IIT Madras)",
                role: "professor",
                date: "2023-11-28",
                downloads: 198
            },
            {
                id: 47,
                title: "Digital Signal Processing",
                description: "Fourier transforms, filters, and signal analysis",
                category: "engineering",
                level: "advanced",
                subject: "Electronics",
                author: "Dr. Kavita Patel (IIT Guwahati)",
                role: "professor",
                date: "2023-11-27",
                downloads: 156
            },
            {
                id: 48,
                title: "Structural Analysis",
                description: "Beam analysis, trusses, and structural design principles",
                category: "engineering",
                level: "intermediate",
                subject: "Civil Engineering",
                author: "Prof. Deepak Agarwal (IIT Ropar)",
                role: "professor",
                date: "2023-11-26",
                downloads: 223
            },
            {
                id: 49,
                title: "Materials Science",
                description: "Crystal structures, phase diagrams, and material properties",
                category: "engineering",
                level: "intermediate",
                subject: "Materials Engineering",
                author: "Dr. Neha Gupta (IIT Delhi)",
                role: "professor",
                date: "2023-11-25",
                downloads: 189
            },
            {
                id: 50,
                title: "Control Systems Engineering",
                description: "Feedback systems, stability analysis, and controller design",
                category: "engineering",
                level: "advanced",
                subject: "Control Systems",
                author: "Prof. Sanjay Kumar (IIT Kanpur)",
                role: "professor",
                date: "2023-11-24",
                downloads: 245
            },
            {
                id: 51,
                title: "Environmental Engineering",
                description: "Water treatment, air pollution control, and waste management",
                category: "engineering",
                level: "intermediate",
                subject: "Environmental Engineering",
                author: "Dr. Priya Sharma (IIT Bombay)",
                role: "professor",
                date: "2023-11-23",
                downloads: 167
            },
            {
                id: 52,
                title: "Microprocessors and Microcontrollers",
                description: "8085, 8086 architecture, and embedded system programming",
                category: "engineering",
                level: "intermediate",
                subject: "Electronics",
                author: "Prof. Vikram Singh (IIT Kharagpur)",
                role: "professor",
                date: "2023-11-22",
                downloads: 234
            },
            {
                id: 53,
                title: "Engineering Mathematics - Differential Equations",
                description: "First and second order ODEs, Laplace transforms",
                category: "engineering",
                level: "intermediate",
                subject: "Mathematics",
                author: "Dr. Rajesh Kumar (IIT Madras)",
                role: "professor",
                date: "2023-11-21",
                downloads: 298
            }
        ];

        let feedbacks = [
            {
                id: 1,
                name: "Ananya Sharma",
                rating: 5,
                text: "Amazing platform! The notes from IIT professors are incredibly helpful for my JEE preparation.",
                date: "2024-01-12"
            },
            {
                id: 2,
                name: "Vikram Singh",
                rating: 4,
                text: "Great collection of CS notes. Helped me a lot in my semester exams.",
                date: "2024-01-10"
            }
        ];

        // Navigation functions
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionName + 'Section').classList.remove('hidden');
            currentSection = sectionName;
            
            // Update navigation
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-red-600', 'font-semibold');
                btn.classList.add('text-gray-700');
            });
            
            // Load section content
            if (sectionName === 'browse') {
                loadNotes();
            } else if (sectionName === 'feedback') {
                loadFeedbacks();
            } else if (sectionName === 'profile') {
                loadProfile();
            } else if (sectionName === 'home') {
                loadRecentNotes();
            }
            
            // Close mobile menu
            document.getElementById('mobileMenu').classList.add('hidden');
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // Authentication functions
        function showLoginModal() {
            document.getElementById('loginModal').classList.add('active');
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.remove('active');
            document.getElementById('loginModal').querySelector('form').reset();
        }

        function showRegisterModal() {
            document.getElementById('registerModal').classList.add('active');
        }

        function closeRegisterModal() {
            document.getElementById('registerModal').classList.remove('active');
            document.getElementById('registerModal').querySelector('form').reset();
        }

        function switchToRegister() {
            closeLoginModal();
            showRegisterModal();
        }

        function switchToLogin() {
            closeRegisterModal();
            showLoginModal();
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Check demo users
            if (demoUsers[email] && demoUsers[email].password === password) {
                currentUser = { email, ...demoUsers[email] };
                isLoggedIn = true;
                updateAuthUI();
                closeLoginModal();
                showSuccess(`Welcome back, ${currentUser.name}!`);
            } else {
                alert('Invalid email or password. Please use one of the demo accounts.');
            }
        }

        function handleRegister(event) {
            event.preventDefault();
            
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const role = document.getElementById('registerRole').value;
            const institution = document.getElementById('registerInstitution').value;
            
            if (password !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }
            
            if (demoUsers[email]) {
                alert('Email already exists! Please use a different email or login.');
                return;
            }
            
            // Create new user
            currentUser = {
                email,
                name,
                role,
                institution,
                notesUploaded: 0,
                notesDownloaded: 0,
                profileViews: 0
            };
            
            isLoggedIn = true;
            updateAuthUI();
            closeRegisterModal();
            showSuccess(`Welcome to NotesWallah, ${name}!`);
        }

        function logout() {
            isLoggedIn = false;
            currentUser = null;
            updateAuthUI();
            showSection('home');
            showSuccess('Logged out successfully!');
        }

        function updateAuthUI() {
            const authButtons = document.getElementById('authButtons');
            const userMenu = document.getElementById('userMenu');
            const mobileAuthButtons = document.getElementById('mobileAuthButtons');
            const mobileUserMenu = document.getElementById('mobileUserMenu');
            const navUserName = document.getElementById('navUserName');
            
            if (isLoggedIn && currentUser) {
                authButtons.classList.add('hidden');
                userMenu.classList.remove('hidden');
                mobileAuthButtons.classList.add('hidden');
                mobileUserMenu.classList.remove('hidden');
                navUserName.textContent = currentUser.name.split(' ')[0];
            } else {
                authButtons.classList.remove('hidden');
                userMenu.classList.add('hidden');
                mobileAuthButtons.classList.remove('hidden');
                mobileUserMenu.classList.add('hidden');
            }
        }

        // Modal functions
        function showAddNotesModal() {
            if (!isLoggedIn) {
                showLoginModal();
                showSuccess('Please login to upload notes');
                return;
            }
            document.getElementById('addNotesModal').classList.add('active');
        }

        function closeAddNotesModal() {
            document.getElementById('addNotesModal').classList.remove('active');
            document.getElementById('addNotesModal').querySelector('form').reset();
        }

        // Notes functions
        function loadNotes() {
            const grid = document.getElementById('notesGrid');
            grid.innerHTML = notes.map(note => createNoteCard(note)).join('');
        }

        function loadRecentNotes() {
            const container = document.getElementById('recentNotes');
            const recentNotes = notes.slice(0, 15); // Show 15 recent notes instead of 3
            container.innerHTML = recentNotes.map(note => createNoteCard(note)).join('');
        }

        function createNoteCard(note) {
            const categoryColors = {
                'school': 'bg-blue-100 text-blue-800',
                'cs': 'bg-green-100 text-green-800',
                'ai-ds': 'bg-purple-100 text-purple-800',
                'competitive': 'bg-red-100 text-red-800',
                'engineering': 'bg-yellow-100 text-yellow-800'
            };

            const levelColors = {
                'beginner': 'bg-gray-100 text-gray-800',
                'intermediate': 'bg-orange-100 text-orange-800',
                'advanced': 'bg-red-100 text-red-800'
            };

            return `
                <div class="bg-white rounded-lg shadow-md p-6 card-hover note-card">
                    <div class="flex justify-between items-start mb-3">
                        <span class="px-3 py-1 rounded-full text-xs font-medium ${categoryColors[note.category] || 'bg-gray-100 text-gray-800'}">${note.category.toUpperCase()}</span>
                        <span class="px-2 py-1 rounded text-xs font-medium ${levelColors[note.level] || 'bg-gray-100 text-gray-800'}">${note.level}</span>
                    </div>
                    <h3 class="text-lg font-semibold mb-2 text-gray-800">${note.title}</h3>
                    <p class="text-gray-600 text-sm mb-3 line-clamp-2">${note.description}</p>
                    <div class="text-sm text-gray-500 mb-3">
                        <div class="flex items-center mb-1">
                            <span class="font-medium">Subject:</span>
                            <span class="ml-1">${note.subject}</span>
                        </div>
                        <div class="flex items-center mb-1">
                            <span class="font-medium">By:</span>
                            <span class="ml-1">${note.author}</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span>${new Date(note.date).toLocaleDateString()}</span>
                            <span class="flex items-center">
                                <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M3 17a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z"/>
                                </svg>
                                ${note.downloads}
                            </span>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="downloadNote(${note.id})" class="flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition text-sm font-medium">
                            Download
                        </button>
                        <button onclick="previewNote(${note.id})" class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition text-sm">
                            Preview
                        </button>
                    </div>
                </div>
            `;
        }

        function filterNotes() {
            const search = document.getElementById('searchInput').value.toLowerCase();
            const category = document.getElementById('categoryFilter').value;
            const level = document.getElementById('levelFilter').value;

            const filtered = notes.filter(note => {
                const matchesSearch = note.title.toLowerCase().includes(search) || 
                                    note.description.toLowerCase().includes(search) ||
                                    note.subject.toLowerCase().includes(search);
                const matchesCategory = !category || note.category === category;
                const matchesLevel = !level || note.level === level;
                
                return matchesSearch && matchesCategory && matchesLevel;
            });

            const grid = document.getElementById('notesGrid');
            grid.innerHTML = filtered.map(note => createNoteCard(note)).join('');
        }

        function downloadNote(noteId) {
            const note = notes.find(n => n.id === noteId);
            if (note) {
                note.downloads++;
                showSuccess(`"${note.title}" download started!`);
                loadNotes(); // Refresh to show updated download count
            }
        }

        function previewNote(noteId) {
            const note = notes.find(n => n.id === noteId);
            if (note) {
                showSuccess(`Opening preview for "${note.title}"`);
            }
        }

        // Feedback functions
        function loadFeedbacks() {
            const container = document.getElementById('feedbackList');
            container.innerHTML = feedbacks.map(feedback => createFeedbackCard(feedback)).join('');
        }

        function createFeedbackCard(feedback) {
            const stars = '‚≠ê'.repeat(feedback.rating) + '‚òÜ'.repeat(5 - feedback.rating);
            
            return `
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h3 class="font-semibold text-gray-800">${feedback.name}</h3>
                            <div class="text-yellow-400 text-sm">${stars}</div>
                        </div>
                        <span class="text-sm text-gray-500">${new Date(feedback.date).toLocaleDateString()}</span>
                    </div>
                    <p class="text-gray-600">${feedback.text}</p>
                </div>
            `;
        }

        function setRating(rating) {
            currentRating = rating;
            const stars = document.querySelectorAll('#ratingStars .star');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.remove('text-gray-300');
                    star.classList.add('text-yellow-400');
                } else {
                    star.classList.remove('text-yellow-400');
                    star.classList.add('text-gray-300');
                }
            });
        }

        function submitFeedback(event) {
            event.preventDefault();
            
            const name = document.getElementById('feedbackName').value;
            const text = document.getElementById('feedbackText').value;
            
            if (currentRating === 0) {
                alert('Please select a rating');
                return;
            }
            
            const newFeedback = {
                id: feedbacks.length + 1,
                name: name,
                rating: currentRating,
                text: text,
                date: new Date().toISOString().split('T')[0]
            };
            
            feedbacks.unshift(newFeedback);
            loadFeedbacks();
            
            // Reset form
            event.target.reset();
            currentRating = 0;
            setRating(0);
            
            showSuccess('Thank you for your feedback!');
        }

        // Profile functions
        function loadProfile() {
            if (!isLoggedIn) {
                showLoginModal();
                showSuccess('Please login to view your profile');
                return;
            }
            
            // Update profile information
            document.getElementById('profileName').textContent = currentUser.name;
            document.getElementById('profileRole').textContent = currentUser.role.charAt(0).toUpperCase() + currentUser.role.slice(1);
            document.getElementById('profileInitials').textContent = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
            
            // Update statistics
            document.getElementById('notesUploaded').textContent = currentUser.notesUploaded;
            document.getElementById('notesDownloaded').textContent = currentUser.notesDownloaded;
            document.getElementById('profileViews').textContent = currentUser.profileViews;
            
            // Load user's uploaded notes
            const userNotesContainer = document.getElementById('userNotes');
            const userNotes = notes.filter(note => note.author.includes(currentUser.name.split(' ')[0]));
            
            if (userNotes.length === 0) {
                userNotesContainer.innerHTML = '<p class="text-gray-500 text-center py-4">No notes uploaded yet. <button onclick="showAddNotesModal()" class="text-red-600 hover:text-red-800">Upload your first note!</button></p>';
            } else {
                userNotesContainer.innerHTML = userNotes.map(note => `
                    <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                        <div>
                            <h4 class="font-medium text-gray-800">${note.title}</h4>
                            <p class="text-sm text-gray-600">${note.downloads} downloads</p>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="editNote(${note.id})" class="text-red-600 hover:text-red-800 text-sm">Edit</button>
                            <button onclick="deleteNote(${note.id})" class="text-red-600 hover:text-red-800 text-sm">Delete</button>
                        </div>
                    </div>
                `).join('');
            }
        }

        function editProfile() {
            showSuccess('Profile editing feature coming soon!');
        }

        function editNote(noteId) {
            showSuccess('Note editing feature coming soon!');
        }

        function deleteNote(noteId) {
            if (confirm('Are you sure you want to delete this note?')) {
                const index = notes.findIndex(n => n.id === noteId);
                if (index > -1) {
                    notes.splice(index, 1);
                    loadProfile();
                    showSuccess('Note deleted successfully!');
                }
            }
        }

        // Add notes function
        function submitNotes(event) {
            event.preventDefault();
            
            if (!isLoggedIn) {
                showLoginModal();
                return;
            }
            
            const title = document.getElementById('notesTitle').value;
            const description = document.getElementById('notesDescription').value;
            const category = document.getElementById('notesCategory').value;
            const level = document.getElementById('notesLevel').value;
            const subject = document.getElementById('notesSubject').value;
            const role = document.getElementById('authorRole').value;
            
            const newNote = {
                id: notes.length + 1,
                title: title,
                description: description,
                category: category,
                level: level,
                subject: subject,
                author: `${currentUser.name} (${currentUser.role})`,
                role: currentUser.role,
                date: new Date().toISOString().split('T')[0],
                downloads: 0
            };
            
            notes.unshift(newNote);
            currentUser.notesUploaded++;
            closeAddNotesModal();
            showSuccess('Notes uploaded successfully!');
        }

        // Utility functions
        function showSuccess(message) {
            const successMsg = document.getElementById('successMessage');
            document.getElementById('successText').textContent = message;
            successMsg.classList.remove('hidden');
            
            setTimeout(() => {
                successMsg.classList.add('hidden');
            }, 3000);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            showSection('home');
            
            // Add search functionality
            document.getElementById('searchInput').addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    filterNotes();
                }
            });
            
            // Close modals when clicking outside
            document.getElementById('addNotesModal').addEventListener('click', function(event) {
                if (event.target === this) {
                    closeAddNotesModal();
                }
            });
            
            document.getElementById('loginModal').addEventListener('click', function(event) {
                if (event.target === this) {
                    closeLoginModal();
                }
            });
            
            document.getElementById('registerModal').addEventListener('click', function(event) {
                if (event.target === this) {
                    closeRegisterModal();
                }
            });
            
            // Initialize authentication UI
            updateAuthUI();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98bd288e34df178a',t:'MTc2MDAwNTM2NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>